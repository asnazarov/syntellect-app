{"ast":null,"code":"import _initializerDefineProperty from \"/Users/aleksandrnazarov/WebstormProjects/syntellect-app/syntellect-app/node_modules/@babel/runtime/helpers/esm/initializerDefineProperty.js\";\nimport _applyDecoratedDescriptor from \"/Users/aleksandrnazarov/WebstormProjects/syntellect-app/syntellect-app/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor.js\";\nimport _initializerWarningHelper from \"/Users/aleksandrnazarov/WebstormProjects/syntellect-app/syntellect-app/node_modules/@babel/runtime/helpers/esm/initializerWarningHelper.js\";\nvar _class, _descriptor;\nimport { computed, makeAutoObservable, observable } from 'mobx';\nimport { getCountryByName } from \"../../../api/apiService\";\n/**\n * The Model is acting as a data source ie. global store\n * for the application. It composes all data from the network\n * layer, databases, services and serve them in a easy way.\n * It shouldn’t have any other logic except one that actually\n * updates a model and doesn’t have any side effects.\n *\n * In cosntructor call `makeAutoObservable(this);`\n *\n * The variables that will contain data will have to be private.\n * To get the content of a variable use a getter (check line 63)\n */\nlet CountriesModel = (_class = class CountriesModel {\n  /**\n   * Private variables to store data\n   */\n\n  // found_countries: CountryInfo[] = [];\n  // private asyncAddLoading = false;\n\n  constructor() {\n    _initializerDefineProperty(this, \"found_countries\", _descriptor, this);\n    makeAutoObservable(this);\n  }\n\n  // @computed changeLoadingState(value: boolean) {\n  //   this.asyncAddLoading = value;\n  // }\n\n  /**\n   * Setters\n   */\n  addFoundCountries(countries) {\n    this.found_countries = countries;\n  }\n  async getSearchCountriesAsync(value) {\n    // this.changeLoadingState(true);\n    const countries = await getCountryByName(value);\n    // console.log(countries)\n    // this.foundCountries()\n    await this.foundCountries();\n    await this.addFoundCountries(countries);\n    return countries;\n    // this.changeLoadingState(false);\n  }\n\n  /**\n   * Getters\n   */\n\n  foundCountries() {\n    // console.log(this.found_countries)\n    if (this.found_countries.length != 0) {\n      return this.found_countries;\n    }\n  }\n\n  // public get users(): string[] {\n  //   return this.names;\n  // }\n\n  // public get asyncLoading(): boolean {\n  //   return this.asyncAddLoading;\n  // }\n}, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"found_countries\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return [];\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"addFoundCountries\", [computed], Object.getOwnPropertyDescriptor(_class.prototype, \"addFoundCountries\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"getSearchCountriesAsync\", [computed], Object.getOwnPropertyDescriptor(_class.prototype, \"getSearchCountriesAsync\"), _class.prototype)), _class);\nexport { CountriesModel as default };","map":{"version":3,"names":["computed","makeAutoObservable","observable","getCountryByName","CountriesModel","constructor","addFoundCountries","countries","found_countries","getSearchCountriesAsync","value","foundCountries","length"],"sources":["/Users/aleksandrnazarov/WebstormProjects/syntellect-app/syntellect-app/src/app/models/domian/CountriesModel.tsx"],"sourcesContent":["import {computed, makeAutoObservable, observable} from 'mobx';\nimport {CountryInfo, getCountryByName} from \"../../../api/apiService\";\nimport {log} from \"util\";\n\n/**\n * The Model is acting as a data source ie. global store\n * for the application. It composes all data from the network\n * layer, databases, services and serve them in a easy way.\n * It shouldn’t have any other logic except one that actually\n * updates a model and doesn’t have any side effects.\n *\n * In cosntructor call `makeAutoObservable(this);`\n *\n * The variables that will contain data will have to be private.\n * To get the content of a variable use a getter (check line 63)\n */\nexport default class CountriesModel {\n  /**\n   * Private variables to store data\n   */\n  @observable found_countries: CountryInfo[] = [];\n  // found_countries: CountryInfo[] = [];\n  // private asyncAddLoading = false;\n\n  constructor() {\n    makeAutoObservable(this);\n  }\n\n  // @computed changeLoadingState(value: boolean) {\n  //   this.asyncAddLoading = value;\n  // }\n\n  /**\n   * Setters\n   */\n  @computed addFoundCountries(countries: CountryInfo[]) {\n    this.found_countries = countries\n  }\n\n  @computed async getSearchCountriesAsync(value: string) {\n    // this.changeLoadingState(true);\n    const countries = await getCountryByName(value)\n    // console.log(countries)\n    // this.foundCountries()\n    await this.foundCountries()\n    await this.addFoundCountries(countries)\n    return countries\n    // this.changeLoadingState(false);\n  }\n\n  /**\n   * Getters\n   */\n\n  public foundCountries(): CountryInfo[] | undefined {\n    // console.log(this.found_countries)\n    if (this.found_countries.length != 0) {\n      return this.found_countries;\n    }\n  }\n\n  // public get users(): string[] {\n  //   return this.names;\n  // }\n\n  // public get asyncLoading(): boolean {\n  //   return this.asyncAddLoading;\n  // }\n}\n"],"mappings":";;;;AAAA,SAAQA,QAAQ,EAAEC,kBAAkB,EAAEC,UAAU,QAAO,MAAM;AAC7D,SAAqBC,gBAAgB,QAAO,yBAAyB;AAGrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA,IAYqBC,cAAc,aAApB,MAAMA,cAAc,CAAC;EAClC;AACF;AACA;;EAEE;EACA;;EAEAC,WAAW,GAAG;IAAA;IACZJ,kBAAkB,CAAC,IAAI,CAAC;EAC1B;;EAEA;EACA;EACA;;EAEA;AACF;AACA;EACYK,iBAAiB,CAACC,SAAwB,EAAE;IACpD,IAAI,CAACC,eAAe,GAAGD,SAAS;EAClC;EAEA,MAAgBE,uBAAuB,CAACC,KAAa,EAAE;IACrD;IACA,MAAMH,SAAS,GAAG,MAAMJ,gBAAgB,CAACO,KAAK,CAAC;IAC/C;IACA;IACA,MAAM,IAAI,CAACC,cAAc,EAAE;IAC3B,MAAM,IAAI,CAACL,iBAAiB,CAACC,SAAS,CAAC;IACvC,OAAOA,SAAS;IAChB;EACF;;EAEA;AACF;AACA;;EAESI,cAAc,GAA8B;IACjD;IACA,IAAI,IAAI,CAACH,eAAe,CAACI,MAAM,IAAI,CAAC,EAAE;MACpC,OAAO,IAAI,CAACJ,eAAe;IAC7B;EACF;;EAEA;EACA;EACA;;EAEA;EACA;EACA;AACF,CAAC,iFAhDEN,UAAU;EAAA;EAAA;EAAA;EAAA;IAAA,OAAkC,EAAE;EAAA;AAAA,sEAe9CF,QAAQ,sKAIRA,QAAQ;AAAA,SAvBUI,cAAc"},"metadata":{},"sourceType":"module"}